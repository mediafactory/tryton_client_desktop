#!/usr/bin/env python
import sys, os
try:
    DIR = os.path.abspath(os.path.normpath(os.path.join(__file__,
        '..', '..', 'tryton')))
    if os.path.isdir(DIR):
        sys.path.insert(0, os.path.dirname(DIR))
except:
    pass

if os.name == 'mac' or \
        (hasattr(os, 'uname') and os.uname()[0] == 'Darwin'):
    resources = os.path.join(os.path.dirname(sys.argv[0]), '..', 'Resources')
    pixbuf_loader = os.path.join(resources, 'gdk-pixbuf.loaders')
    if os.path.isfile(pixbuf_loader):
        os.environ['GDK_PIXBUF_MODULE_FILE'] = pixbuf_loader
    pangorc = os.path.join(resources, 'pangorc')
    if os.path.isfile(pangorc):
        os.environ['PANGO_RC_FILE'] = pangorc

import tryton.client
tryton.client.TrytonClient().run()
